<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Medical Report</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
       <script src=
       "https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js">
          </script>
</head>
<body>
    <div class="d-flex justify-content-end">
        <button id="generatePdfButton" class="btn btn-primary mt-3">Generate PDF</button>
    </div>
    <div class="container mt-4">
        <h1 class="text-center">Medical Report</h1>

        <h2 class="mt-4">ECG Medical Report Summary</h2>
        <ul>
            <li id="summaryText"></li>
        </ul>

        <h2 class="mt-4">Patient Information</h2>
        <table class="table table-bordered">
            <tr>
                <th>Field</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Name</td>
                <td id="patientName"></td>
            </tr>
            <tr>
                <td>Age</td>
                <td id="patientAge"></td>
            </tr>
            <tr>
                <td>Gender</td>
                <td id="patientGender"></td>
            </tr>
            <tr>
                <td>Date of Report</td>
                <td id="reportDate"></td>
            </tr>
        </table>

        <h2 class="mt-4">Medical Parameters</h2>
        <table class="table table-bordered">
            <tr>
                <th>Parameter</th>
                <th>Measured Value</th>
                <th>Reference Range (Male, Age 45)</th>
            </tr>
            <tr>
                <td>RR Intervals</td>
                <td id="rrIntervalsValue">750 ms</td>
                <td id="rrIntervalsInterpretation">700 - 1200 ms</td>
            </tr>
            <tr>
                <td>BPM (Beats Per Minute)</td>
                <td id="bpmValue">72 bpm</td>
                <td id="bpmInterpretation">60 - 80 bpm</td>
            </tr>
            <tr>
                <td>SDNN (Standard Deviation of NN intervals)</td>
                <td id="sdnnValue">50 ms</td>
                <td id="sdnnInterpretation">30 - 100 ms</td>
            </tr>
            <tr>
                <td>RMSSD (Root Mean Square of Successive Differences)</td>
                <td id="rmssdValue">30 ms</td>
                <td>20 - 60 ms</td>
            </tr>
        </table>
        <h2 class="mt-4">Explanation of Parameters</h2>
        <ul>
            <li><strong>RR Intervals:</strong> The time between consecutive R-wave peaks in ECG. Important for assessing heart rate variability.</li>
            <li><strong>BPM (Beats Per Minute):</strong> The number of heartbeats per minute.</li>
            <li><strong>SDNN:</strong> A measure of overall heart rate variability.</li>
            <li><strong>RMSSD:</strong> A measure of the short-term components of heart rate variability.</li>
        </ul>

        <h2 class="mt-4">Interpretation</h2>
        <ul>
            <li id="rrIntervalsText"><strong>RR Intervals:</strong> Within the normal range for a male aged 45.</li>
            <li id="bpmText"><strong>BPM:</strong> Normal resting heart rate.</li>
            <li id="sdnnText"><strong>SDNN:</strong> Indicates good overall heart rate variability.</li>
            <li id="rmssdText"><strong>RMSSD:</strong> Reflects healthy short-term heart rate variability.</li>
        </ul>

        <h2 class="mt-4">Additional Notes</h2>
        <ul>
            <li>The patient's age and sex have been considered in determining the reference ranges.</li>
            <li>Ensure the patient remains calm and at rest during the measurement for accurate results.</li>
            <li>Abnormal values should be evaluated in the context of the patient's overall health and other diagnostic tests.</li>
        </ul>

        <h2 class="mt-4">References</h2>
        <p>Age-specific and sex-specific reference ranges are based on the latest clinical guidelines and research.</p>
    </div>
    <script src="/js/medicalReport.js" type="module"></script>
</body>
</html>
